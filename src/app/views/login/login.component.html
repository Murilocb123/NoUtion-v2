<p-toast life="3000" />
<div class="login-panel-div">
    <p-panel>
    <div class="progress-spinner" *ngIf="loadingState">
        <p-progressSpinner></p-progressSpinner>
    </div>
        <ng-template pTemplate="header">
            <div class="flex flex-column align-items-center w-full">
                <img src="nu_branco.svg" alt="NoUtion Logo" class="logo-image" />
            </div>
        </ng-template>
        <p-tabView [(activeIndex)]="tabActiveIndex">
            <p-tabPanel>
                <ng-template pTemplate="header">
                    <div class="flex align-items-center gap-2">
                        <span class="pi pi-sign-in"> </span>
                        <span class="font-bold white-space-nowrap m-0">
                            Login
                        </span>
                    </div>
                </ng-template>
                <form (ngSubmit)="onLoginSubmit(loginForm)" autocomplete="off" class="p-fluid" [formGroup]="loginForm">
                    <div class="p-field mt-5">
                        <p-floatLabel>
                            <input formControlName="email" pInputText id="email" type="email" autocomplete="true" />
                            <label for="email">E-mail</label>
                        </p-floatLabel>
                    </div>
                    <div class="p-field mt-5">
                        <p-floatLabel>
                            <p-password formControlName="password" inputId="password" [feedback]="false" toggleMask="true" />
                            <label for="password">Senha</label>
                        </p-floatLabel>
                    </div>
                    <div class="flex flex-column align-items-center">
                        <button pButton type="submit" label="Entrar" class="submit-button"
                            [disabled]="!loginForm.valid"></button>
                    </div>
                </form>
            </p-tabPanel>
            <p-tabPanel>
                <ng-template pTemplate="header">
                    <div class="flex align-items-center gap-2">
                        <span class="pi pi-user-plus"> </span>
                        <span class="font-bold white-space-nowrap m-0">
                            Cadastro
                        </span>
                    </div>
                </ng-template>
                <form [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit(registerForm)" autocomplete="off" class="p-fluid">
                    <div class="p-field mt-5">
                        <p-floatLabel>
                            <input formControlName="name" pInputText id="registerName" type="text" />
                            <label for="registerName">Nome</label>
                        </p-floatLabel>
                    </div>
                    <div class="p-field mt-5">
                        <p-floatLabel>
                            <input formControlName="email" pInputText id="registerEmail" type="email" autocomplete="true" />
                            <label for="registerEmail">E-mail</label>
                        </p-floatLabel>
                    </div>
                    <div class="p-field mt-5">
                        <p-floatLabel>
                            <p-password formControlName="password"
                             inputId="registerPassword"
                              promptLabel="Crie sua senha"
                              toggleMask="true"
                              weakLabel="Fraca" 
                              mediumLabel="MÃ©dio"
                              strongLabel="Forte"/>
                            <label for="registerPassword">Senha</label>
                        </p-floatLabel>
                    </div>
                    <div class="flex flex-column align-items-center">
                        <button pButton type="submit" label="Cadastrar" class="submit-button"
                            [disabled]="!registerForm.valid"></button>
                    </div>
                </form>
            </p-tabPanel>
        </p-tabView>
    </p-panel>
</div>